server:
  host: "0.0.0.0"
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  max_conn: 10000
  real_ip_header: "X-Real-IP"
  trusted_proxies:
    - "127.0.0.1/32"
    - "10.0.0.0/8"
    - "172.16.0.0/12"
    - "192.168.0.0/16"

ssl:
  enabled: false
  cert_file: "certs/server.crt"
  key_file: "certs/server.key"

backends:
  default:
    - id: "backend1"
      name: "Backend Server 1"
      host: "127.0.0.1"
      port: 8081
      weight: 100
      scheme: "http"
      active: true
      max_conn: 1000
      health_check:
        path: "/health"
        interval: 30s
        timeout: 5s
        failures: 3
    - id: "backend2"
      name: "Backend Server 2"
      host: "127.0.0.1"
      port: 8082
      weight: 100
      scheme: "http"
      active: true
      max_conn: 1000
      health_check:
        path: "/health"
        interval: 30s
        timeout: 5s
        failures: 3

routing:
  default:
    path: "/"
    upstream: "default"
    load_balancer: "least_connections_weight"
    protocols:
      websocket: "ip_hash"
      sse: "ip_hash"
      http: "least_connections_weight"
      https: "least_connections_weight"

grpc:
  enabled: true
  host: "127.0.0.1"
  port: 9091
